!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1),n(6);var i=function(e){let t=[].fill("");t[e**2-1]="",t.fill(""),t=t.map((e,t)=>t),function(e,t){for(let n=0;n<=t;n+=1)e.sort(()=>Math.random()-.5)}(t,e**2);const n=[];for(let i=0;i<e;i+=1){n[i]=[];for(let r=0;r<e;r+=1)n[i][r]=t.pop()}return n};var r=function(e=4){let t=[].fill("");t[e**2-1]="",t.fill(""),t=t.map((e,t)=>t);const n=[];for(let i=0;i<e;i+=1){n[i]=[];for(let r=0;r<e;r+=1)n[i][r]=t.pop()}return n};var l=function(){document.body.innerHTML='\n    <div class="statistic" id="statistic">\n      <span id="moveCounter">Ходов: 0</span>, <span id="time"></span>\n    </div>\n    <div class="playingField" id="playingField"></div>\n    <div class="setting" id="settings">\n    <div class="fieldSize" id="fieldSize">\n      <span class="fieldSize--size">2x2 </span>\n      <span class="fieldSize--size">3x3 </span>\n      <span class="fieldSize--size">4x4</span>\n      <span class="fieldSize--size">5x5 </span>\n      <span class="fieldSize--size">6x6 </span>\n      <span class="fieldSize--size">7x7 </span>\n      <span class="fieldSize--size">8x8 </span>\n    </div>\n    <div class="buttons" id="buttons">\n      <div class="buttons--but" id="restart">Начать заново</div>\n      <div class="buttons--but" id="save">Сохранить</div>\n      <div class="buttons--but" id="results">Результаты</div>\n    </div>\n    </div>\n  '};var s=function(e){const t=document.getElementById("playingField");t.innerHTML="";const n=document.documentElement.clientWidth-40;t.style.width=`${n}px`,t.style.height=`${n/2}px`;for(let i=0;i<e.length;i+=1)for(let r=0;r<e.length;r+=1)t.innerHTML+=`\n      <div class="gem ${0===e[i][r]?"gem_empty":""}"\n      style="width:${n/e.length-1}px; height:${n/e.length/2}px">${e[i][r]}</div>\n      `};var d=function(e){const t=new Date,n=document.getElementById("time"),i=Math.round((t.getTime()-e.getTime())/1e3),r=Math.floor(i/60),l=i-60*r;n.innerText=`Время: ${r}:${l}`};var o=function(e,t,n){return n.field[e+1]&&0===n.field[e+1][t]?(n.swapWithZeroGem(e,t,e+1,t),n.renderField(),n.isWin()&&alert(`Вы выйграли! Ходов:${n.moveCounter}, Время:${n.date}`),n.counterPlusOne(),void n.moveCounterRenderer()):n.field[e-1]&&0===n.field[e-1][t]?(n.swapWithZeroGem(e,t,e-1,t),n.renderField(),n.counterPlusOne(),void n.moveCounterRenderer()):0===n.field[e][t-1]?(n.swapWithZeroGem(e,t,e,t-1),n.renderField(),n.counterPlusOne(),void n.moveCounterRenderer()):void(0===n.field[e][t+1]&&(n.swapWithZeroGem(e,t,e,t+1),n.renderField(),n.counterPlusOne(),n.moveCounterRenderer()))};var a=function(e){document.getElementById("playingField").addEventListener("click",({target:{innerText:t}})=>{for(let n=0;n<e.field.length;n+=1)for(let i=0;i<e.field.length;i+=1)if(e.field[n][i]===Number(t))return void e.tryToShift(n,i)})};var u=function(e){document.getElementById("buttons").addEventListener("click",({target:{id:t}})=>{"restart"===t&&(e.clearTimer(),e.saveStartDate(),e.startTimer(),e.timeRenderer(),e.renderField(),e.dropCounter(),e.moveCounterRenderer()),"save"===t&&alert("save"),"results"===t&&alert("results")})};var f=function(e){document.getElementById("fieldSize").addEventListener("click",({target:{innerText:t}})=>{e.setFieldSize(Number(t[0])),e.setNewField(e.getNewField(Number(t[0]))),e.renderField(),e.clearTimer(),e.saveStartDate(),e.startTimer(),e.timeRenderer(),e.dropCounter(),e.moveCounterRenderer()})};const c={field:[],solvingField:[],fieldSize:4,moveCounter:0,startDate:0,timer:null,getNewField(e=this.fieldSize){return i(e)},getSolvingField(e=this.fieldSize){r(e)},setNewField(e){this.field=e},setSolvingField(e){this.solvingField=e},setFieldSize(e){this.fieldSize=e},swapWithZeroGem(e,t,n,i){this.field[n][i]=this.field[e][t],this.field[e][t]=0},tryToShift(e,t){o(e,t,this)},saveStartDate(){this.startDate=new Date},counterPlusOne(){this.moveCounter+=1},dropCounter(){this.moveCounter=0},moveCounterRenderer(e=this.moveCounter){document.getElementById("moveCounter").innerText=`Ходов: ${e}`},renderMainBlocks(){l()},renderField(e=this.field){s(e)},timeRenderer(e=this.startDate){d(e)},startTimer(){this.timer=setInterval(this.timeRenderer,1e3,this.startDate)},clearTimer(){clearInterval(this.timer)},isWin(){for(let e=0;e<this.field.length;e+=1)for(let t=0;t<this.field.length;t+=1)if(this.field[e][t]!==this.solvingField[e][t])return!1;return!0}};c.saveStartDate(),c.renderMainBlocks(),c.timeRenderer(),c.setNewField(c.getNewField(4)),c.renderField(),c.startTimer(),a(c),f(c),u(c),window.addEventListener("resize",()=>{c.renderField()})},function(e,t){},,,,,function(e,t){}]);
//# sourceMappingURL=app.bundle.js.map